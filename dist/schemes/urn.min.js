"undefined"===typeof COMPILED&&"undefined"===typeof URI&&"function"===typeof require&&(URI=require("../uri"));
(function(){var g=URI.pctEncChar,h=/^urn\:((?:[0-9A-Za-z][0-9A-Za-z\-]{1,31}))$/,k=/^((?:[0-9A-Za-z][0-9A-Za-z\-]{1,31}))\:((?:(?:(?:\%[0-9A-Fa-f]{2})|[0-9A-Za-z\(\)\+\,\-\.\:\=\@\;\$\_\!\*\'\/\?\#])+))$/,l=/^([^\:]+)\:(.*)/,m=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,f=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;URI.SCHEMES.urn={parse:function(a,c){var b=a.path.match(k),d,e;b||(c.tolerant||(a.error=a.error||"URN is not strictly valid."),b=a.path.match(l));b?(d="urn:"+b[1].toLowerCase(),
(e=URI.SCHEMES[d])||(e=URI.SCHEMES[d]={parse:function(a){return a},serialize:URI.SCHEMES.urn.serialize}),a.scheme=d,a.path=b[2],a=e.parse(a,c)):a.error=a.error||"URN can not be parsed.";return a},serialize:function(a,c){var b=a.scheme||c.scheme,d;b&&"urn"!==b&&((d=b.match(h))||(d=["urn:"+b,b]),a.scheme="urn",a.path=d[1]+":"+(a.path?a.path.replace(m,g):""));return a}};URI.SCHEMES["urn:uuid"]={parse:function(a,c){c.tolerant||a.path&&a.path.match(f)||(a.error=a.error||"UUID is not valid.");return a},
serialize:function(a,c){c.tolerant||a.path&&a.path.match(f)?a.path=(a.path||"").toLowerCase():a.scheme=void 0;return URI.SCHEMES.urn.serialize(a,c)}}})();
